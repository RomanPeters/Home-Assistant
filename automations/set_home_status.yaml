#- id: door_opens
#  alias: Set home
#  trigger:
#    - platform: state
#      entity_id: binary_sensor.door
#      to: 'on'
#  action:
#    - service: input_select.select_option
#      data:
#        entity_id: input_select.home_status
#        option: Home

- id: set_home_status_to_home
  alias: Set Home Status to home
  trigger:
    - platform: state
      entity_id: group.roman
      to: home
  action:
    - service: input_select.select_option
      data:
        entity_id: input_select.home_status
        option: Home

- id: set_home_status_to_away
  alias: Set Home Status to away
  trigger: 
    - platform: state
      entity_id: group.roman
      to: not_home
  action:
    - service: input_select.select_option
      data:
        entity_id: input_select.home_status
        option: Away

- id: correct_home_status 
  alias: Correct Home Status 
  trigger:
    - platform: state
      entity_id: input_select.home_status
      to: Night
      for:
        hours: 10
  action:
    - service: input_select.select_option
      data_template:
        entity_id: input_select.home_status
        option: >   
          {% if is_states('group.roman', 'home') %}
            Home
          {% else %}
            Away
          {% endif %}
