# single

- id: button_night_light_on
  alias: button night light on
  trigger:
    - platform: mqtt
      topic: zigbee2mqtt/button
  condition:
    - condition: template
      value_template: "{{ trigger.payload_json.click == 'single' }}"
    - condition: state
      entity_id: light.standing_lamp
      state: 'off'
  action:
    - service_template: >
          {% if is_state('input_select.button_single', 'Fan') %}
            switch.toggle
          {% elif is_state('input_select.button_single', 'Standing Lamp') %}
            light.toggle
          {% elif is_state('input_select.button_single', 'Ambient Lights') %}
            light.toggle
          {% endif %}

      data_template:
        entity_id: >
          {% if is_state('input_select.button_single', 'Fan') %}
            switch.fan
          {% elif is_state('input_select.button_single', 'Standing Lamp') %}
            light.standing_lamp
          {% elif is_state('input_select.button_single', 'Ambient Lights') %}
            light.ambient_lights
          {% endif %}


- id: button_night_light_off
  alias: button night light off
  trigger:
    - platform: mqtt
      topic: zigbee2mqtt/button
  condition:
    - condition: template
      value_template: "{{ trigger.payload_json.click == 'single' }}"
    - condition: state
      entity_id: light.standing_lamp
      state: 'on'
  action:
    - service: light.turn_off  
      entity_id: light.standing_lamp

# double

- id: button_toggle_air_purifier
  alias: toggle air purifier
  trigger:
    - platform: mqtt
      topic: zigbee2mqtt/button
  condition:
    - condition: template
      value_template: "{{ trigger.payload_json.click == 'double' }}"
  action:
    - service: switch.toggle
      entity_id: switch.air_purifier

# triple

# quadruple

# many

# long

- id: button_long_press
  alias: Button long press
  trigger:
    - platform: state
      entity_id: sensor.button
      to: 'long'
  action:
    - service: script.turn_on
      entity_id: script.button_dim_up

# long_release
- id: button_long_release
  alias: Button long release
  trigger:
    - platform: state
      entity_id: sensor.button
      to: 'long_release'
  action:
    - service: script.turn_off
      entity_id: script.button_dim_up
