# SPEAKERS ON
- id: apple_tv_playing
  alias: Turn speakers on when playing
  trigger:
    - platform: state
      entity_id: media_player.apple_tv
      to: 'playing'
  action:
    - service: switch.turn_on
      entity_id: switch.speakers
      
- id: apple_tv_idle_on      
  alias: Turn speakers on on idle
  trigger:
    - platform: state
      entity_id: media_player.apple_tv
      to: 'idle'
  action:
    - service: switch.turn_on
      entity_id: switch.speakers


# SPEAKERS OFF
- id: apple_tv_off
  alias: Turn speakers off if the Apple TV is off
  trigger:
    - platform: state
      entity_id: media_player.apple_tv
      to: 'off'
  action:
    - service: switch.turn_off
      entity_id: switch.speakers

- id: apple_tv_idle_off     
  alias: Turn speakers offon idle 
  trigger:
    - platform: state
      entity_id: media_player.apple_tv
      to: 'idle'
      for:
        minutes: 1
  action:
    - service: switch.turn_off
      entity_id: switch.speakers

# ENTONE ON
- id: entone_on
  alias: Turn Entone on
  trigger:
    - platform: state
      entity_id: switch.tv
      to: 'on'
  action:
    - service: switch.turn_on
      entity_id: switch.entone

# ENTONE OFF
- id: entone_off
  alias: Turn Entone off
  trigger:
    - platform: state
      entity_id: switch.tv            
      to: 'off'
  action:
    - service: switch.turn_off 
      entity_id: switch.entone  

- id: entone_off_while_tv_on
  alias: Turn Entone off when using Apple TV
  trigger:
    - platform: state
      entity_id: media_player.apple_tv
      to: 'playing'
      for:
        minutes: 1
  condition:
    - condition: state
      entity_id: switch.tv
      state: 'on'
  action:
    - service: switch.turn_off
      entity_id: switch.entone
