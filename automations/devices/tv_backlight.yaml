- id: tv_backlight_off
  alias: TV Backlight off
  trigger:
    - platform: state
      entity_id: light.tv_backlight
      to: 'on'
  action:
    - service: script.turn_on
      entity_id: script.tv_backlight_on

- id: tv_backlight_on
  alias: TV Backlight on
  trigger:
    - platform: state
      entity_id: light.tv_backlight
      to: 'off'
  action:
    - service: script.turn_on                           
      entity_id: script.tv_backlight_off

- id: tv_backlight_effect
  alias: TV Backlight effect
  trigger:
    - platform: state
      entity_id: light.tv_backlight
  condition:
    - condition: template
      value_template: "{{ states.light.tv_backlight.attributes.effect != 'none' }}"
  action:
    - service: script.turn_on
      data_template:
        entity_id: "scrip.tv_backlight_{{states.light.ambient_lights.attributes.effect.replace(' ', '_').lower()}}"

- id: tv_backlight_color
  alias: TV Backlight change color
  trigger:
    - platform: state
      entity_id: light.tv_backlight
  action:
    - service: python_script.tv_backlight_nearest_color
      data_template:
        rgb_color: "{{ states.light.tv_backlight.attributes.rgb_color }}"
    - service: python_script.tv_backlight_brightness
      
